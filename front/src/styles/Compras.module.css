/* =========================================
   LAYOUT GENERAL
   ========================================= */
.pageContainer {
    max-width: 1200px;
    margin: 0 auto;
    padding-bottom: 40px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 10px;
}

.title {
    margin: 0;
    font-size: 1.8rem;
    color: #1e293b;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.subtitle {
    margin: 4px 0 0 0;
    color: #64748b;
    font-size: 0.95rem;
}

/* =========================================
   TABS NAVIGATION (Pill Style)
   ========================================= */
.tabsContainer {
    display: flex;
    gap: 5px;
    background: #f1f5f9;
    padding: 5px;
    border-radius: 12px;
    width: fit-content;
}

.tabBtn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border: none;
    background: transparent;
    border-radius: 8px;
    color: #64748b;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tabBtn:hover {
    color: #334155;
    background: rgba(255,255,255,0.5);
}

.activeTab {
    background: white;
    color: #9B8DC5; /* Color de Marca */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.contentCard {
    padding: 0; /* El contenido interno manejará el padding */
    overflow: hidden;
    min-height: 400px;
}

/* =========================================
   TABLA DE COMPRAS
   ========================================= */
.tableContainer {
    padding: 20px;
}

.filtersBar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    gap: 20px;
}

.searchWrapper {
    flex: 1;
    max-width: 350px;
}

.tableResponsive {
    overflow-x: auto;
    border-radius: 10px;
    border: 1px solid #f1f5f9;
}

.table {
    width: 100%;
    border-collapse: collapse;
    min-width: 800px; /* Forzar scroll en móviles */
}

.table th {
    text-align: left;
    padding: 14px 20px;
    background: #f8fafc;
    color: #64748b;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid #e2e8f0;
}

.tableRow td {
    padding: 14px 20px;
    border-bottom: 1px solid #f1f5f9;
    vertical-align: middle;
    color: #334155;
    font-size: 0.95rem;
}

.tableRow:last-child td {
    border-bottom: none;
}

.tableRow:hover {
    background-color: #fcfaff;
}

/* Celdas Específicas */
.dateCell {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: monospace;
    font-size: 0.9rem;
}

.cellIcon { color: #94a3b8; }

.timeLabel {
    color: #94a3b8;
    font-size: 0.8rem;
}

.providerCell {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
}

.providerIcon {
    color: #9B8DC5;
    background: #f3e8ff;
    padding: 3px;
    width: 24px;
    height: 24px;
    border-radius: 6px;
}

.userCell {
    display: flex;
    align-items: center;
    gap: 6px;
    color: #64748b;
    font-size: 0.9rem;
}

.totalAmount {
    font-weight: 700;
    color: #0f172a;
    font-family: 'Nunito Sans', sans-serif;
}

.actionBtn {
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #e2e8f0;
    background: white;
    border-radius: 8px;
    color: #64748b;
    cursor: pointer;
    transition: all 0.2s;
}

.actionBtn:hover {
    border-color: #9B8DC5;
    color: #9B8DC5;
}

/* =========================================
   ESTADOS
   ========================================= */
.loadingState, .emptyState {
    padding: 60px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #94a3b8;
    text-align: center;
    gap: 15px;
}

.emptyState h3 {
    margin: 0;
    color: #334155;
}

/* ESTILOS ESPECÍFICOS DEL FORMULARIO (Reutilizados de CrearVenta) */
.itemRow {
    display: grid;
    grid-template-columns: 2fr 100px 120px 100px 40px;
    gap: 15px;
    padding: 12px 0;
    align-items: center;
    border-bottom: 1px solid #f1f5f9;
}

.itemName {
    font-weight: 500;
    color: #334155;
}

.itemTotal {
    font-weight: 700;
    text-align: right;
    color: #1e293b;
}

.removeBtn {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ... (Resto de estilos del formulario que ya tenías en el módulo anterior) */
.createActions {
    padding: 10px;
    border-top: 1px solid #eee;
    background: #f8fafc;
}

.createLabel {
    font-size: 0.75rem;
    color: #64748b;
    margin-bottom: 5px;
    font-weight: 600;
}
/* =========================================
   LAYOUT GENERAL (Página Compras)
   ========================================= */
.pageHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e2e8f0;
}

.title {
    margin: 0;
    font-size: 1.8rem;
    color: #1e293b;
    font-weight: 700;
    letter-spacing: -0.02em;
}

/* Tabs (Pestañas) */
.tabs {
    display: flex;
    gap: 8px;
    background: #f1f5f9;
    padding: 4px;
    border-radius: 10px;
}

.contentArea {
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* =========================================
   CRUD HEADER (Proveedores / Historial)
   ========================================= */
.crudHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.crudHeader h2 {
    margin: 0;
    font-size: 1.25rem;
    color: #334155;
    font-weight: 600;
}

/* =========================================
   TABLAS DE DATOS
   ========================================= */
.table {
    width: 100%;
    border-collapse: separate; /* Permite border-radius en filas si se desea */
    border-spacing: 0;
    width: 100%;
}

.table th {
    text-align: left;
    padding: 16px 20px;
    background: #f8fafc;
    color: #64748b;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid #e2e8f0;
}

.table td {
    padding: 16px 20px;
    border-bottom: 1px solid #f1f5f9;
    color: #334155;
    font-size: 0.95rem;
    vertical-align: middle;
}

.table tr:last-child td {
    border-bottom: none;
}

.table tr:hover td {
    background-color: #fcfaff; /* Sutil tinte lila al hover */
}

/* Iconos dentro de la tabla */
.table td svg {
    color: #9B8DC5; /* Color de marca */
    vertical-align: middle;
}

/* Botones de Acción en Tabla */
.actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
}

/* =========================================
   FORMULARIOS (MODALES)
   ========================================= */
.formGrid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 Columnas */
    gap: 20px;
    padding: 10px 0;
}

/* Responsividad del Formulario */
@media (max-width: 768px) {
    .formGrid {
        grid-template-columns: 1fr; /* 1 Columna en móviles */
    }
}

.formActions {
    grid-column: 1 / -1; /* Ocupar todo el ancho */
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #f1f5f9;
}

/* Inputs dentro del Grid */
.formGrid input, .formGrid select {
    width: 100%;
}

/* =========================================
   ESTILOS ESPECÍFICOS COMPRA (Carrito)
   ========================================= */
   
/* Sección de Cabecera del Formulario */
.section {
    margin-bottom: 30px;
    padding: 20px;
    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid #e2e8f0;
}

.formRow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.inputGroup {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.selectInput {
    padding: 10px 12px;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    background: white;
    font-size: 0.95rem;
    color: #334155;
    outline: none;
    height: 42px;
    transition: border-color 0.2s;
}

.selectInput:focus {
    border-color: #9B8DC5;
    box-shadow: 0 0 0 3px rgba(155, 141, 197, 0.1);
}

/* Selector de Ítems y Buscador */
.itemSelector {
    margin-bottom: 30px;
    position: relative;
}

.itemSelector h3 {
    font-size: 1rem;
    color: #64748b;
    margin-bottom: 12px;
    font-weight: 600;
}

.searchResults {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
    margin-top: 8px;
    z-index: 50;
    max-height: 250px;
    overflow-y: auto;
    padding: 5px;
}

.searchResults > div {
    padding: 12px 16px;
    cursor: pointer;
    border-radius: 8px;
    transition: background 0.2s;
    color: #334155;
    font-weight: 500;
}

.searchResults > div:hover {
    background-color: #f1f5f9;
}

.selectedItemBar {
    margin-top: 15px;
    padding: 15px;
    background: #f0fdf4; /* Verde suave */
    border: 1px solid #bbf7d0;
    border-radius: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
}

.selectedItemBar p {
    margin: 0;
    font-weight: 600;
    color: #166534;
}

/* Carrito */
.cart {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    overflow: hidden;
}

.cart h3 {
    padding: 15px 20px;
    margin: 0;
    background: #f8fafc;
    border-bottom: 1px solid #e2e8f0;
    font-size: 0.95rem;
    color: #475569;
}

.itemsListContainer {
    padding: 0;
}

.itemRowHeader {
    display: grid;
    grid-template-columns: 2fr 100px 120px 100px 40px;
    padding: 10px 20px;
    background: #fff;
    border-bottom: 1px solid #f1f5f9;
    font-size: 0.75rem;
    font-weight: 700;
    color: #94a3b8;
    text-transform: uppercase;
}

.itemRow {
    display: grid;
    grid-template-columns: 2fr 100px 120px 100px 40px;
    gap: 15px;
    padding: 15px 20px;
    align-items: center;
    border-bottom: 1px solid #f1f5f9;
}

.itemRow:last-child { border-bottom: none; }

.itemName {
    font-weight: 500;
    color: #334155;
}

.itemTotal {
    text-align: right;
    font-weight: 600;
    color: #1e293b;
}

.removeBtn {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    display: flex;
    justify-content: center;
    opacity: 0.7;
    transition: opacity 0.2s;
}
.removeBtn:hover { opacity: 1; }

.emptyText {
    padding: 40px;
    text-align: center;
    color: #cbd5e1;
}

/* Footer Total */
.totalFooter {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px dashed #e2e8f0;
}

.totalFooter h3 {
    font-size: 1.5rem;
    color: #1e293b;
    margin: 0;
}
/* =========================================
   LAYOUT
   ========================================= */
.grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 24px;
    align-items: start;
}

@media (max-width: 900px) {
    .grid { grid-template-columns: 1fr; }
}

.leftCol { display: flex; flex-direction: column; gap: 20px; }
.rightCol { position: sticky; top: 20px; }

/* =========================================
   CONTEXT CARD (Proveedor)
   ========================================= */
.contextCard { padding: 20px; }

.cardHeader {
    border-bottom: 1px solid #f1f5f9;
    padding-bottom: 10px;
    margin-bottom: 15px;
}
.cardHeader h3 {
    margin: 0; font-size: 1rem; color: #334155;
    display: flex; align-items: center; gap: 8px;
}

.contextRow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.inputGroup { display: flex; flex-direction: column; gap: 6px; }
.inputGroup label { font-size: 0.8rem; font-weight: 600; color: #64748b; }
.selectInput {
    padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px;
    background: white; color: #334155; outline: none;
}
.selectInput:focus { border-color: #9B8DC5; }

/* =========================================
   SEARCH CARD
   ========================================= */
.searchCard { padding: 20px; }
/* IMPORTANTE: Permite que el dropdown salga del card */
.overflowVisible { overflow: visible !important; position: relative; z-index: 20; }

.searchWrapper { position: relative; }

.searchResults {
    position: absolute;
    top: 100%; left: 0; right: 0;
    background: white;
    border: 1px solid #e2e8f0; border-radius: 12px;
    box-shadow: 0 10px 25px -5px rgba(0,0,0,0.15);
    margin-top: 5px; padding: 5px;
    z-index: 50;
    max-height: 300px; overflow-y: auto;
}

.resultItem {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px;
    cursor: pointer; border-radius: 6px;
    transition: background 0.2s;
}
.resultItem:hover { background: #f8fafc; }

.iconGray { color: #64748b; }
.iconBlue { color: #3b82f6; }
.resName { font-weight: 500; color: #1e293b; flex: 1; }
.resUnit { font-size: 0.8rem; color: #94a3b8; }

.createActions {
    border-top: 1px solid #f1f5f9;
    padding: 10px; margin-top: 5px;
    background: #fcfaff;
}
.createLabel { display: block; font-size: 0.75rem; color: #64748b; margin-bottom: 5px; }
.createBtns { display: flex; gap: 8px; }

/* Panel Configuración Item */
.configPanel {
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 15px;
    margin-top: 15px;
    animation: slideDown 0.2s ease;
}
@keyframes slideDown { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }

.configHeader { display: flex; justify-content: space-between; margin-bottom: 10px; }
.configTitle { font-weight: 600; color: #2563eb; }

.unitToggle { display: flex; align-items: center; gap: 5px; }
.miniSelect { padding: 2px 5px; border-radius: 4px; border: 1px solid #cbd5e1; font-size: 0.8rem; }

.configInputs { display: flex; gap: 10px; align-items: flex-end; }
.configActions { display: flex; gap: 5px; margin-left: auto; }

.conversionHint {
    margin-top: 8px; font-size: 0.8rem; color: #166534;
    background: #dcfce7; padding: 4px 8px; border-radius: 4px; display: inline-block;
}

/* =========================================
   CART LIST
   ========================================= */
.cartContainer { }
.sectionTitle { font-size: 0.95rem; color: #64748b; text-transform: uppercase; font-weight: 600; margin: 0 0 15px 0; }

.itemsList { display: flex; flex-direction: column; gap: 10px; }

.cartItem {
    display: grid;
    grid-template-columns: 1.5fr 120px 140px 1fr auto;
    align-items: center;
    gap: 15px;
    background: white;
    padding: 12px 16px;
    border: 1px solid #f1f5f9;
    border-radius: 10px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.02);
}

.cartItemName { display: block; font-weight: 600; color: #334155; margin-bottom: 4px; }
.cartItemMeta { display: flex; gap: 6px; align-items: center; }
.unitLabel { font-size: 0.75rem; color: #94a3b8; }

.cartInputs { display: flex; align-items: center; gap: 5px; }
.multiply { color: #cbd5e1; font-size: 0.8rem; }

.cartItemTotal { text-align: right; font-weight: 700; color: #1e293b; }

.removeBtn {
    background: #fee2e2; border: none; color: #ef4444;
    width: 28px; height: 28px; border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: background 0.2s;
}
.removeBtn:hover { background: #fecaca; }

.emptyState {
    text-align: center; padding: 40px;
    background: #f8fafc; border: 2px dashed #e2e8f0; border-radius: 12px;
    color: #94a3b8;
}

/* =========================================
   SUMMARY (RIGHT COL)
   ========================================= */
.summaryCard {
    background: #1e293b; color: white;
    border-radius: 16px; padding: 24px;
    box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
}

.summaryTitle { margin: 0 0 20px 0; font-size: 1.2rem; }

.summaryRow {
    display: flex; justify-content: space-between;
    margin-bottom: 12px; color: #94a3b8; font-size: 0.95rem;
}
.summaryRow strong { color: white; }

.divider { height: 1px; background: rgba(255,255,255,0.1); margin: 20px 0; }

.totalRow {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 25px;
}
.totalValue { font-size: 1.8rem; font-weight: 700; color: #4ade80; }

.confirmBtn { background: #8b5cf6; border: none; font-size: 1.1rem; }
.confirmBtn:hover { background: #7c3aed; }